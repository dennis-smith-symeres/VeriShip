
@using Telerik.Blazor.Components.Common.Icon

<TelerikMenu Data="@MenuItems" Orientation="@Orientation"  >
    <ItemTemplate Context="item">
        @{
           
                <NavLink href="@item.Url"
                         target="@(IsInternalPage(item.Url) ? "" : "_blank")"
                         class="k-link k-menu-link "
                         ActiveClass="active"
                         Match="@(item.Url == "/" ? NavLinkMatch.All : NavLinkMatch.Prefix)">
                    @item.Text
                </NavLink>
          
        }
        @if (!string.IsNullOrEmpty(item.TelerikIcon))
        {
            <TelerikIcon Icon="@item.TelerikIcon"/>
        }        
    </ItemTemplate>
</TelerikMenu>



@code {

    [Parameter] public MenuOrientation Orientation { get; set; } = MenuOrientation.Horizontal;

    [Parameter] public List<MenuItem> MenuItems { get; set; } = [];


    private bool IsInternalPage(string url)
    {
        if (string.IsNullOrEmpty(url))
        {
            return false;
        }
        return !(url.StartsWith("https://"));
    }

    public record MenuItem(string Text, string Url, string TelerikIcon);


}